/* CannaGrudge Theme v2 â€” refined readability & contrast */

:root {
  --cg-nav-h: 64px; /* bottom nav height incl. padding */
  /* Brand core (gold softened) */
  --cg-gold-50:  #fff6cc;
  --cg-gold-100: #ffe39a;
  --cg-gold-200: #ffd067;
  --cg-gold-300: #f5b81a;   /* Primary brand gold (softer than #ffc42e) */
  --cg-gold-400: #d09a14;   /* Pressed/hover/outline */

  --cg-scarlet-300: #ff6b6b;
  --cg-scarlet-400: #ef4444;

  --cg-ink-925:  #0b0b0c;   /* Deeper app background */
  --cg-ink-900:  #0f1012;
  --cg-ink-850:  #14161a;   /* Elevated surfaces */
  --cg-ink-800:  #181b20;
  --cg-ink-700:  #1f2329;
  --cg-ink-600:  #2a2f36;

  --cg-paper-50: #f7f7f8;
  --cg-paper-100:#f0f0f2;
  --cg-paper-200:#e7e7ea;

  /* Softer text colors for dark mode readability */
  --cg-text-strong: #131417;   /* light mode overridden below */
  --cg-text:        #1a1b1f;
  --cg-text-dim:    #5f6672;

  --cg-white: #ffffff;
  --cg-black: #000000;

  /* App tokens */
  --cg-bg: var(--cg-paper-50);
  --cg-surface: var(--cg-white);
  --cg-surface-2: #fbfbfc;               /* inner cards on light */
  --cg-elev: 0 10px 20px rgba(0,0,0,.10), 0 2px 6px rgba(0,0,0,.06);
  --cg-border: rgba(20,23,28,.12);

  /* Interactive */
  --cg-primary: var(--cg-gold-300);
  --cg-primary-ink: #211a06;
  --cg-primary-press: var(--cg-gold-400);
  --cg-accent: var(--cg-scarlet-400);
  --cg-ring: rgba(245,184,26,.45);

  /* Status */
  --cg-success: #16a34a;
  --cg-warning: #f59e0b;
  --cg-danger:  #dc2626;

  /* Type */
  --cg-font-display: "Segoe UI Variable Display", "Segoe UI", "SF Pro Display", "Inter", system-ui, sans-serif;
  --cg-font-sans:    "Segoe UI Variable Text", "SF Pro Text", "Inter", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;

  --cg-lh-tight: 1.08;
  --cg-lh-body:  1.55;

  /* Radii */
  --cg-r-pill: 9999px;
  --cg-r-lg:   16px;
  --cg-r-md:   12px;
  --cg-r-sm:   10px;

  --cg-safe-bottom: max(env(safe-area-inset-bottom), 12px);
}

@media (prefers-color-scheme: dark) {
  :root {
  --cg-nav-h: 64px; /* bottom nav height incl. padding */
    --cg-bg: var(--cg-ink-925);
    --cg-surface: var(--cg-ink-850);
    --cg-surface-2: var(--cg-ink-800);       /* inner cards on dark */
    --cg-elev: 0 12px 24px rgba(0,0,0,.38), 0 2px 8px rgba(0,0,0,.26);
    --cg-border: rgba(255,255,255,.08);

    /* toned whites */
    --cg-text-strong: #eaecef;   /* was #f5f5f7 */
    --cg-text:        #d7d9de;   /* softer body */
    --cg-text-dim:    #a8adb6;   /* muted */
  }
}

/* Manual override */
html[data-theme="light"] {
  --cg-bg: var(--cg-paper-50);
  --cg-surface: var(--cg-white);
  --cg-surface-2: #fbfbfc;
  --cg-text-strong: #121316;
  --cg-text: #23262b;
  --cg-text-dim: #616876;
}
html[data-theme="dark"] {
  --cg-bg: var(--cg-ink-925);
  --cg-surface: var(--cg-ink-850);
  --cg-surface-2: var(--cg-ink-800);
  --cg-text-strong: #eaecef;
  --cg-text: #d7d9de;
  --cg-text-dim: #a8adb6;
}

/* Global */
* { box-sizing: border-box; }
html, body {
  height: 100%;
  background: var(--cg-bg);
  color: var(--cg-text);
  font-family: var(--cg-font-sans);
  line-height: var(--cg-lh-body);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  margin: 0;
}

h1, h2, h3, .display {
  font-family: var(--cg-font-display);
  line-height: var(--cg-lh-tight);
  letter-spacing: .2px;
  margin: 0;
  color: var(--cg-text-strong);
}

/* Buttons */
.button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  padding: 14px 18px;
  border-radius: var(--cg-r-pill);
  font-weight: 800;
  text-decoration: none;
  cursor: pointer;
  border: 1px solid transparent;
  transition: transform .08s ease, box-shadow .12s ease, background .12s ease, border-color .12s ease;
  will-change: transform;
}
.button:focus-visible {
  outline: 2px solid transparent;
  box-shadow: 0 0 0 4px var(--cg-ring);
}
.button:active { transform: translateY(1px) scale(.995); }

.button--primary {
  background: var(--cg-primary);
  color: var(--cg-primary-ink);
  box-shadow: var(--cg-elev);
}
.button--primary:hover { background: var(--cg-primary-press); }

/* Dark ghost button made visible */
.button--ghost {
  background: rgba(255,255,255,.06);
  color: var(--cg-text-strong);
  border-color: rgba(255,255,255,.12);
  box-shadow: 0 1px 2px rgba(0,0,0,.18) inset;
}
html[data-theme="light"] .button--ghost {
  background: rgba(0,0,0,.03);
  border-color: rgba(20,23,28,.12);
}
.button--ghost:hover {
  background: rgba(255,255,255,.10);
}

/* Sticky bottom CTA */
.sticky-cta {
  position: fixed;
  left: 16px;
  right: 16px;
  bottom: calc(var(--cg-safe-bottom));
  z-index: 50;
  display: flex;
  justify-content: center;
}
.sticky-cta .button { width: 100%; }

/* Tile grid */
.tile-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
}
.tile {
  background: var(--cg-surface);
  border: 1px solid var(--cg-border);
  border-radius: var(--cg-r-lg);
  padding: 14px 8px;
  text-align: center;
  box-shadow: 0 2px 8px rgba(0,0,0,.06);
  transition: transform .08s ease, box-shadow .12s ease, background .12s ease;
}
.tile:active { transform: scale(.98); }
.tile__icon { width: 28px; height: 28px; margin: 2px auto 6px; opacity: .95; }
.tile__label { font-size: 12px; font-weight: 750; color: var(--cg-text-strong); }

/* Cards */
.container { max-width: 720px; margin: 0 auto; padding: 16px; }
.card {
  background: var(--cg-surface);
  border: 1px solid var(--cg-border);
  border-radius: var(--cg-r-lg);
  box-shadow: 0 2px 10px rgba(0,0,0,.06);
  padding: 16px;
}
.muted { color: var(--cg-text-dim); }
.separator { height: 1px; background: var(--cg-border); margin: 12px 0; }

/* Inner card styling for VIP/Standard containers (clear separation) */
.card .card {
  background: var(--cg-surface-2);
  border-color: rgba(245,184,26,.18);
  box-shadow: 0 1px 6px rgba(0,0,0,.14);
}

/* Hero */
.hero {
  position: relative;
  overflow: hidden;
  border-radius: 0 0 var(--cg-r-lg) var(--cg-r-lg);
  background: var(--cg-ink-900);
}
.hero__img { width: 100%; display: block; object-fit: cover; }
.hero__veil {
  position: absolute; inset: 0;
  background: radial-gradient(80% 60% at 50% 20%, rgba(0,0,0,.0) 0%, rgba(0,0,0,.35) 60%, rgba(0,0,0,.70) 100%);
}
.hero__content {
  position: absolute; inset: auto 16px 16px 16px;
  color: #fff;
}
.hero__title { font-size: 40px; line-height: .98; text-shadow: 0 8px 24px rgba(0,0,0,.35); }

/* Ticket */
.ticket {
  background: var(--cg-surface);
  border: 1px dashed var(--cg-border);
  border-radius: var(--cg-r-lg);
  padding: 16px;
  box-shadow: 0 3px 14px rgba(0,0,0,.10);
}
.ticket__header { display: flex; gap: 12px; align-items: center; }
.ticket__meta { font-size: 12px; color: var(--cg-text-dim); }
.ticket__qr { margin-top: 12px; padding-top: 12px; border-top: 1px solid var(--cg-border); display: flex; justify-content: center; }


/* Stronger hero title only */
.hero__title { font-weight: 1000; letter-spacing: .3px; }

/* Ensure content isn't hidden behind sticky CTA + bottom nav */
body.has-sticky-cta main { padding-bottom: 24px !important; } /* accommodates CTA + nav */

/* Global footer */
.footer {
  margin: 16px auto 90px; /* leave space above bottom nav */
  max-width: 720px;
  padding: 16px 16px 70px;
  border-radius: var(--cg-r-lg);
  background: var(--cg-surface);
  border: 1px solid var(--cg-border);
  box-shadow: 0 2px 10px rgba(0,0,0,.06);
  color: var(--cg-text);
}
.footer__grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px 18px;
}
.footer a { color: var(--cg-text-strong); text-decoration: none; }
.footer a:hover { text-decoration: underline; }
.footer__legal { margin-top: 14px; margin-bottom: 14px; font-size: 12px; color: var(--cg-text-dim); }

/* Footer layout variant with icons + links */
.footer--stack { text-align:center; }
.footer__icons { display:flex; justify-content:center; gap:14px; margin-bottom:10px; }
.footer__icons a { display:inline-flex; align-items:center; justify-content:center; width:40px; height:40px; border-radius:12px; background: rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.10); text-decoration:none; font-weight:900; color:#fff; }
html[data-theme="light"] .footer__icons a { background: rgba(0,0,0,.04); border-color: rgba(20,23,28,.12); color: var(--cg-text-strong); }

.footer__links { display:flex; justify-content:center; gap:14px; flex-wrap:wrap; font-size:13px; }
.footer__links a { color: var(--cg-text); text-decoration:none; }
.footer__links a:hover { text-decoration:underline; }

/* New bottom nav layout */
.bottom-nav { position: fixed; bottom: 0; left: 0; right: 0; display:flex; gap:8px; justify-content:space-around; background: var(--cg-surface); border-top:1px solid var(--cg-border); padding:12px 12px calc(var(--cg-safe-bottom)); z-index:40; }
.bottom-nav a { flex:1; text-align:center; padding:10px; border-radius:12px; color: var(--cg-text); text-decoration:none; font-size:12px; }
.bottom-nav a.is-active { background: rgba(0,0,0,.06); font-weight:800; }

/* Place sticky CTA above nav; add more air */
.sticky-cta { bottom: calc(var(--cg-safe-bottom) + var(--cg-nav-h)); }
body.has-sticky-cta main { padding-bottom: 24px !important; }

/* Ensure bottom-nav visually anchors to bottom */
.bottom-nav { backdrop-filter: saturate(120%) blur(2px); }

/* Revised bottom nav with centered Home icon */
.bottom-nav { position: fixed; bottom: 0; left: 0; right: 0; display:flex; align-items:center; justify-content:space-between; gap:10px; background: var(--cg-surface); border-top:1px solid var(--cg-border); padding:12px 14px calc(var(--cg-safe-bottom)); z-index:40; }
.bottom-nav a { flex:1; text-align:center; padding:10px 8px; border-radius:12px; color: var(--cg-text); text-decoration:none; font-size:12px; }
.bottom-nav a.is-active { background: rgba(0,0,0,.06); font-weight:800; }
.bottom-nav__home { flex:0 0 auto; width:54px; height:54px; border-radius:999px; display:flex; align-items:center; justify-content:center; background: var(--cg-primary); color: var(--cg-primary-ink); box-shadow: var(--cg-elev); font-weight:900; }
.bottom-nav__home:active { transform: translateY(1px) scale(.98); }

/* Footer icons: big circular social buttons (IG, FB, X, Snap, TikTok) */
.footer__icons { display:flex; justify-content:center; gap:12px; margin-bottom:14px; flex-wrap:wrap; }
.footer__icons a { width:44px; height:44px; border-radius:14px; display:inline-flex; align-items:center; justify-content:center; background: rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.10); color:#fff; font-weight:900; text-decoration:none; font-size:18px; }
html[data-theme="light"] .footer__icons a { background: rgba(0,0,0,.04); border-color: rgba(20,23,28,.12); color: var(--cg-text-strong); }


/* Sticky CTA positioning logic:
   - Default: pinned to bottom edge
   - When footer visible: lift above footer height with margin
*/
:root { --footer-h: 0px; --cta-margin: 12px; }
.sticky-cta { bottom: 0; }
.sticky-cta.lifted { bottom: calc(var(--footer-h) + var(--cta-margin)); }


/* Smooth lift */
:root { --cta-h: 64px; }
.sticky-cta {
  position: fixed; left: 16px; right: 16px; bottom: 0;
  transition: transform 160ms ease;
  will-change: transform;
}
body.has-sticky-cta main { padding-bottom: 24px !important; }


/* Fixed CTA at viewport bottom. Content scrolls; spacer = top of CTA is end of page. */
:root { --cta-h: 68px; }
.sticky-cta {
  position: fixed; left: 16px; right: 16px; bottom: 0;
  z-index: 60;
}
body.has-sticky-cta main { padding-bottom: 24px !important; }


/* HARD FIX: CTA never moves. No transitions, no transforms. */
:root { --cta-h: 68px !important; }
.sticky-cta {
  position: fixed !important;
  left: 16px !important;
  right: 16px !important;
  bottom: 0 !important;
  z-index: 60 !important;
  transform: none !important;
  transition: none !important;
}
body.has-sticky-cta main { padding-bottom: 24px !important; }


/* Spacer so footer can scroll fully above a fixed CTA */
.cta-spacer { height: calc(var(--cta-h) + 14px); }

/* Footer clearance above fixed CTA */
body.has-sticky-cta .footer { margin-bottom: calc(var(--cta-h) + 16px); }


/* Fixed CTA Dock: own layer, prevents overlap */
:root { --dock-h: 92px; } /* total area for the dock including margins */
.cta-dock {
  position: fixed;
  left: 0; right: 0; bottom: 0;
  height: var(--dock-h);
  z-index: 60;
  display: flex; align-items: center; justify-content: center;
  background: linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,.18) 20%, rgba(0,0,0,.30) 100%);
  padding: 0 16px;
}
.cta-dock .button { width: 100%; max-width: 680px; }
body.with-dock main { padding-bottom: calc(var(--dock-h) + 8px); }

/* override old sticky-cta on Home by hiding it if present */
.sticky-cta { display: none !important; }

/* Ensure footer scrolls fully above the fixed CTA dock */
body.with-dock .footer { margin-bottom: calc(var(--dock-h) + 12px) !important; }


/* Footer should appear above dock when visible */
.cta-dock.behind { z-index: 0 !important; pointer-events: none !important; }


/* Full-width event promo image */
.promo-wrap {
  display: block;
  width: 100vw;
  margin: 0;
  border-radius: 0;
  overflow: hidden;
  position: relative;
  left: 50%;
  right: 50%;
  margin-left: -50vw;
  margin-right: -50vw;
}
.promo-wrap img {
  width: 100%;
  height: auto;
  display: block;
  border-radius: 0;
}


/* === Full-bleed promo image (edge-to-edge, no rounding) === */
.promo-wrap {
  display: block;
  width: 100vw;
  margin: 12px 0;
  border: none !important;
  border-radius: 0 !important;
  box-shadow: none !important;
  overflow: visible;
  position: relative;
  left: 50%;
  transform: translateX(-50%); /* dead-center relative to viewport */
}
.promo-wrap img {
  display: block;
  width: 100%;
  height: auto;
  border: none !important;
  border-radius: 0 !important;
}

/* === Footer clearance via invisible spacer (final) === */
body.with-dock .footer {
  position: static !important;
  margin: 0 !important;
}
body.with-dock .footer::after {
  content: "" !important;
  display: block !important;
  height: calc(var(--dock-h) + 24px) !important; /* footer fully clears CTA */
}


.hero .card, .hero__text, .intro-card { padding-top: 15px; padding-bottom: 15px; }

/* extra breathing room for the home intro card */
.card--intro{padding-top:31px;padding-bottom:31px;}

/* bottom-nav home circle icon and a11y helper */
.bottom-nav a.home{
  display:inline-flex;align-items:center;justify-content:center;
  width:48px;height:48px;border-radius:9999px;
  background: rgba(255,255,255,.04);
  border:1px solid var(--cg-border);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.04), 0 2px 10px rgba(0,0,0,.25);
  margin: 0 6px;
}
.bottom-nav a.home:active{ transform: translateY(1px); }
.bottom-nav a.home svg{ display:block; }
.sr-only{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }

/* even vertical rhythm between sections */
.container > section,
.container > .card {
  margin-top: 20px;
  margin-bottom: 20px;
}

/* ensure nested ticket cards keep tighter spacing while outer Featured section keeps rhythm */
#featured > .card { margin-top: 12px; margin-bottom: 12px; }

/* give tile grid breathing room below */
.tile-grid { margin-bottom: 20px; }


/* Unified tile icon styling (brand gold, consistent weight) */
.tile { color: var(--cg-text-strong); }
.tile svg.tile__icon-svg {
  width: 30px; height: 30px;
  stroke: var(--cg-primary);
  color: var(--cg-primary);
  stroke-width: 1.9;
}
.tile:hover svg.tile__icon-svg { stroke: var(--cg-primary-press); color: var(--cg-primary-press); }


/* home icon brand gold */
.bottom-nav a.home svg path { fill: var(--cg-primary) !important; }
