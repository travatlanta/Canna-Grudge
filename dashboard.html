<!doctype html>
<html lang="en"><head>
  <meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Dashboard</title>
  <link rel="icon" type="image/png" href="assets/favicon-gloves.png">
  <link rel="stylesheet" href="theme.css">
</head>
<body>
    <main class="container">
    <!-- Profile Header -->
    <section class="card" id="profile">
      <div style="display:flex; align-items:center; gap:14px;">
        <div class="avatar" style="width:72px;height:72px;border-radius:999px;overflow:hidden;border:1px solid var(--cg-border); box-shadow: 0 1px 8px rgba(0,0,0,.18); background: rgba(255,255,255,.06); display:flex; align-items:center; justify-content:center;">
          <img id="avatarImg" alt="" style="width:100%;height:100%;object-fit:cover;display:none;">
          <span id="avatarFallback" class="muted" style="font-weight:900; font-size:18px;">GA</span>
        </div>
        <div>
          <h1 class="display" style="font-size:24px; margin-bottom:4px;" id="displayName">Guest Attendee</h1>
          <p class="muted" id="displayTier">Ticket Tier: General Admission</p>
        </div>
      </div>
    </section>

    <!-- Personal Info -->
    <section class="card" id="personal">
      <strong style="display:block; margin-bottom:8px;">Personal Information</strong>
      <div style="display:grid; grid-template-columns: 1fr 1fr; gap:10px;">
        <div>
          <div class="muted" style="font-size:12px;">Name</div>
          <div id="piName">Guest Attendee</div>
        </div>
        <div>
          <div class="muted" style="font-size:12px;">Email</div>
          <div id="piEmail">guest@example.com</div>
        </div>
        <div>
          <div class="muted" style="font-size:12px;">Phone</div>
          <div id="piPhone">—</div>
        </div>
        <div>
          <div class="muted" style="font-size:12px;">City, State</div>
          <div id="piCityState">—</div>
        </div>
      </div>
    </section>

    <!-- My Tickets (existing content preserved below) -->

  </main>

  <footer class="footer footer--stack">
    <div class="footer__icons">
      <a href="#" data-share="instagram" title="Share on Instagram">ig</a>
      <a href="#" data-share="facebook" title="Share on Facebook">f</a>
      <a href="#" data-share="twitter" title="Share on X">x</a>
      <a href="#" data-share="snapchat" title="Share on Snapchat">sc</a>
      <a href="#" data-share="tiktok" title="Share on TikTok">tt</a>
    </div>
    <div class="footer__links">
      <a href="event.html#info">Event Info</a>
      <a href="event.html#schedule">Schedule</a>
      <a href="event.html#tickets">Ticket Info</a>
      <a href="event.html#featured">Buy</a>
      <a href="profile.html">Profile</a>
      <a href="tos.html">Terms</a>
      <a href="privacy.html">Privacy</a>
      <a href="index.html">Home</a>
    </div>
    <div class="footer__legal">© CannaGrudge. All rights reserved.</div>
  </footer>

  <dialog id="loginModal" style="border:none; border-radius:16px; padding:0; width: 92vw; max-width:420px;">
    <div class="card" style="border:none;">
      <h2 class="display" style="margin-bottom:8px;">Sign in</h2>
      <p class="muted" style="margin:0 0 12px;">Fast login to save your tickets.</p>
      <div style="display:grid; gap:10px; margin-bottom:12px;">
        <button class="button button--primary" style="background:#000; color:#fff;">Continue with Apple</button>
        <button class="button button--primary" style="background:#0F9D58; color:#fff;">Continue with Google</button>
        <button class="button button--ghost">Continue with Email</button>
      </div>
      <div style="display:flex; justify-content:flex-end; gap:8px;">
        <button class="button button--ghost" data-close-modal>Close</button>
      </div>
    </div>
  </dialog>

  <script src="app.js"></script>

  <!-- Fixed bottom CTA dock left as-is -->

  <nav class="bottom-nav">
    <a href="event.html#schedule">Schedule</a>
    <a href="event.html">Info</a>
    <a href="index.html" class="home" aria-label="Home">
      <svg viewBox="0 0 24 24" width="22" height="22" aria-hidden="true">
        <path d="M12 3l9 7-1.5 2L19 11v9h-5v-6H10v6H5v-9l-0.5 1L3 10l9-7z" fill="currentColor"/>
      </svg>
      <span class="sr-only">Home</span>
    </a>
    <a href="event.html#featured">Buy</a>
    <a href="dashboard.html">Dashboard</a>
  </nav>


<script>
// Populate dashboard fields from localStorage if available
(function(){
  try {
    const name = localStorage.getItem('fullName') || localStorage.getItem('name');
    const email = localStorage.getItem('email');
    const phone = localStorage.getItem('phone');
    const city = localStorage.getItem('city');
    const state = localStorage.getItem('state');
    const tier = localStorage.getItem('ticketTier') || localStorage.getItem('tier');
    const avatar = localStorage.getItem('avatarUrl');

    if (name) {
      document.getElementById('displayName').textContent = name;
      document.getElementById('piName').textContent = name;
      // Initials fallback
      const initials = name.split(' ').map(p => p[0]).filter(Boolean).slice(0,2).join('').toUpperCase();
      const fb = document.getElementById('avatarFallback');
      if (fb) fb.textContent = initials || 'GA';
    }
    if (tier) {
      document.getElementById('displayTier').textContent = 'Ticket Tier: ' + tier;
    }
    if (email) document.getElementById('piEmail').textContent = email;
    if (phone) document.getElementById('piPhone').textContent = phone;
    if (city || state) {
      document.getElementById('piCityState').textContent = [city, state].filter(Boolean).join(', ');
    }

    if (avatar) {
      const img = document.getElementById('avatarImg');
      const fb = document.getElementById('avatarFallback');
      if (img) {
        img.src = avatar;
        img.style.display = 'block';
        if (fb) fb.style.display = 'none';
      }
    }
  } catch(e) {
    // swallow
  }
})();
</script>

</body></html>