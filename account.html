<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>My Tickets • CannaGrudge</title>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="icon" href="/assets/GrudgeCon.png" sizes="any" />
<style>
  :root{--bg:#1a1a1d;--panel:#232326;--text:#e8e8e8;--muted:#9d9d9d;--gold:#d7bf72;--border:#2d2d30}
  *{box-sizing:border-box} html,body{margin:0;background:var(--bg);color:var(--text); font:16px/1.55 ui-sans-serif,system-ui,-apple-system,Segoe UI,Inter,Arial}
  a{color:inherit;text-decoration:none}
  .wrap{max-width:720px;margin:0 auto;padding:0 16px}
  header{position:sticky;top:0;z-index:40;background:color-mix(in oklab,var(--bg) 92%, transparent); backdrop-filter:saturate(120%) blur(8px);border-bottom:1px solid var(--border)}
  .row{display:flex;align-items:center;justify-content:space-between;height:64px}
  .brand{display:flex;gap:10px;align-items:center;font-weight:900}
  .brand img{width:28px;height:28px;border-radius:8px}
  h1{margin:16px 0 10px;font-size:22px;font-weight:1000}
  .list{display:grid;gap:12px}
  .card{background:var(--panel);border:1px solid var(--border);border-radius:16px;padding:14px}
  .muted{color:var(--muted)}
  .row2{display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap}
  .pill{display:inline-block;border:1px solid #2f2f33;padding:6px 10px;border-radius:999px;font-weight:900}
  .pill.active{border-color:#37452c;color:#dbecc1;background:#1f261a}
  .btn{display:inline-block;padding:10px 14px;border-radius:12px;font-weight:900;border:1px solid #2f2f33}
</style>
</head>
<body>
<header>
  <div class="wrap row">
    <a href="/" class="brand"><img src="/assets/GrudgeCon.png" alt=""><span>CannaGrudge</span></a>
    <nav><a href="/tickets">Buy Tickets</a></nav>
  </div>
</header>

<main class="wrap" style="padding:18px 0 48px">
  <h1>My Tickets</h1>
  <div id="empty" class="muted" style="display:none">No tickets yet. <a href="/tickets" style="color:var(--gold)">Buy one</a>.</div>
  <div class="list" id="tickets"></div>
</main>

<script>
  const listEl = document.getElementById('tickets');
  const emptyEl = document.getElementById('empty');
  const tickets = JSON.parse(localStorage.getItem('cg_tickets')||'[]');
  if(!tickets.length){ emptyEl.style.display='block'; }
  tickets.forEach(t=>{
    const el = document.createElement('div');
    el.className='card';
    el.innerHTML = `
      <div class="row2">
        <div>
          <div style="font-weight:900">${t.name}</div>
          <div class="muted" style="font-size:14px">CannaGrudge • Feb 28, 2026 • Litchfield Park, AZ</div>
        </div>
        <div class="pill ${t.status==='active'?'active':''}">${t.status}</div>
      </div>
      <div class="row2" style="margin-top:10px">
        <div class="muted">Ticket ID: <strong>${t.id}</strong></div>
        <a class="btn" href="/ticket/${t.id}">Open</a>
      </div>`;
    listEl.appendChild(el);
  });
</script>
</body>
</html>