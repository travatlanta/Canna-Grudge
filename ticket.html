<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Ticket • CannaGrudge</title>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="icon" href="/assets/GrudgeCon.png" sizes="any" />
<style>
  :root{--bg:#1a1a1d;--panel:#232326;--text:#e8e8e8;--muted:#9d9d9d;--gold:#d7bf72;--border:#2d2d30}
  *{box-sizing:border-box} html,body{margin:0;background:var(--bg);color:var(--text); font:16px/1.55 ui-sans-serif,system-ui,-apple-system,Segoe UI,Inter,Arial}
  a{color:inherit;text-decoration:none}
  .wrap{max-width:540px;margin:0 auto;padding:0 16px}
  header{position:sticky;top:0;z-index:40;background:color-mix(in oklab,var(--bg) 92%, transparent); backdrop-filter:saturate(120%) blur(8px);border-bottom:1px solid var(--border)}
  .row{display:flex;align-items:center;justify-content:space-between;height:64px}
  .card{background:var(--panel);border:1px solid var(--border);border-radius:18px;padding:18px;margin-top:16px}
  .muted{color:var(--muted)}
  .qr{height:220px;border-radius:12px;background:linear-gradient(180deg,#1d1d20,#141416); display:grid;place-items:center;border:1px dashed #37373c}
</style>
</head>
<body>
<header><div class="wrap row"><a href="/account">Back</a><div>CannaGrudge Ticket</div><div></div></div></header>
<main class="wrap" style="padding:18px 0 48px">
  <div class="card" id="ticket">
    <div style="font-weight:900" id="t_name">Ticket</div>
    <div class="muted" style="font-size:14px;margin-top:2px">Feb 28, 2026 • Litchfield Park, AZ • 21+</div>
    <div class="qr" id="qr"><span class="muted">QR will appear here when Stripe webhook is enabled</span></div>
    <div style="display:flex;justify-content:space-between;align-items:center;margin-top:10px">
      <div class="muted">ID: <strong id="t_id"></strong></div>
      <div class="muted">Status: <strong id="t_status"></strong></div>
    </div>
  </div>
</main>
<script>
  const params = new URLSearchParams(location.search);
  const id = params.get('id');
  const tickets = JSON.parse(localStorage.getItem('cg_tickets')||'[]');
  const ticket = tickets.find(t=>t.id===id) || {id, name:'Ticket', status:'active'};
  document.getElementById('t_id').textContent = ticket.id;
  document.getElementById('t_name').textContent = ticket.name;
  document.getElementById('t_status').textContent = ticket.status;
</script>
</body>
</html>