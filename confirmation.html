<!doctype html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Order Confirmed â€¢ CannaGrudge</title>
  <link rel="stylesheet" href="theme.css">
</head>
<body class="page-padded">

  <main style="min-height: calc(100vh - var(--cg-nav-height)); display: flex; align-items: center;">
    <div class="container-sm">
      <div class="card success-card">
        <div class="success-icon">
          <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
        </div>
        <h1 style="font-size: 32px;">Order Confirmed!</h1>
        <p class="text-secondary" style="font-size: 16px; margin-bottom: 32px;">Thank you for your purchase</p>
        <div id="orderDetails">
          <div id="confirmItems"></div>
          <div class="divider"></div>
          <div id="confirmTotal" style="font-family: var(--cg-font-display); font-size: 20px; font-weight: 900; color: var(--cg-gold);"></div>
          <div id="confirmId" class="text-muted" style="font-size: 14px; margin-top: 8px;"></div>
          <div id="confirmEmail" class="text-muted" style="font-size: 14px; margin-top: 4px;"></div>
        </div>
        <div class="divider"></div>
        <div style="display: flex; flex-direction: column; gap: 12px;">
          <a href="dashboard.html" class="btn btn-primary btn-lg">View My Tickets</a>
          <a href="index.html" class="btn btn-outline btn-lg">Back to Home</a>
        </div>
      </div>
    </div>
  </main>

  <footer class="footer">
    <div class="container">
      <div class="footer-grid">
        <div class="footer-col">
          <div class="footer-brand">Canna<span>Grudge</span></div>
          <p class="footer-desc">The ultimate cannabis boxing event. Live fights, music, vendors, and more in Litchfield Park, AZ.</p>
          <div class="footer-social">
            <a href="https://www.instagram.com/" target="_blank" aria-label="Instagram"><img src="assets/Icons/instagram.png" alt="Instagram"></a>
            <a href="https://www.facebook.com/" target="_blank" aria-label="Facebook"><img src="assets/Icons/facebook.png" alt="Facebook"></a>
            <a href="https://twitter.com/" target="_blank" aria-label="X"><img src="assets/Icons/twitter.png" alt="X"></a>
          </div>
        </div>
        <div class="footer-col">
          <h4>Event</h4>
          <a href="index.html">Home</a>
          <a href="event.html">Event Info</a>
          <a href="tickets.html">Tickets</a>
        </div>
        <div class="footer-col">
          <h4>Support</h4>
          <a href="event.html#faq">FAQ</a>
          <a href="event.html#contact">Contact</a>
          <a href="tos.html">Terms &amp; Conditions</a>
        </div>
        <div class="footer-col">
          <h4>Legal</h4>
          <a href="privacy.html">Privacy Policy</a>
          <a href="delete-data.html">Delete Data</a>
        </div>
      </div>
      <div class="footer-bottom">
        <span>&copy; 2026 CannaGrudge. All rights reserved.</span>
        <div>
          <a href="privacy.html">Privacy</a> &nbsp;&middot;&nbsp; <a href="tos.html">Terms</a>
        </div>
      </div>
    </div>
  </footer>

  <script type="module" src="firebase-config.js"></script>
  <script src="app.js"></script>
  <script>
document.addEventListener('DOMContentLoaded', () => {
  const order = JSON.parse(localStorage.getItem('cg_last_order') || 'null');
  if (!order) {
    location.href = 'index.html';
    return;
  }

  const itemsEl = document.getElementById('confirmItems');
  let total = 0;
  itemsEl.innerHTML = order.items.map(item => {
    const t = item.price * item.qty;
    total += t;
    return `<div class="order-item"><span class="item-name">${item.name} x${item.qty}</span><span class="item-price">$${(t/100).toFixed(2)}</span></div>`;
  }).join('');

  document.getElementById('confirmTotal').textContent = '$' + (total/100).toFixed(2);
  document.getElementById('confirmId').textContent = 'Order #' + (order.paymentId?.slice(-8) || 'N/A');
  document.getElementById('confirmEmail').textContent = order.email || '';
});
  </script>
</body>
</html>
